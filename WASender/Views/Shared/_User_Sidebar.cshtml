@{
    var currentPath = ViewContext.HttpContext.Request.Path;
}
<ul class="navbar-nav">
    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/userhome") ? "active" : "")"
           asp-controller="UserDashboard" asp-action="Index">
            <i class="fi fi-rs-dashboard"></i>
            <span class="nav-link-text">Dashboard</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/UserDevice/Index") ? "active" : "")" asp-controller="UserDevice" asp-action="Index">
            <i class="fi-rs-sensor-on"></i>
            <span class="nav-link-text">My Devices</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/sent-text-message") ? "active" : "")" asp-controller="UserMessage" asp-action="SentText">
            <i class="fi fi-rs-paper-plane"></i>
            <span class="nav-link-text">Single Send</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/chatbot") ? "active" : "")" asp-controller="UserChatbot" asp-action="Index">
            <i class="fas fa-robot"></i>
            <span class="nav-link-text">Chatbot (Auto Reply)</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/apps") ? "active" : "")" asp-controller="UserApps" asp-action="Index">
            <i class="fi fi-rs-apps-add"></i>
            <span class="nav-link-text">My Apps</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/contact") ? "active" : "")" asp-controller="UserContact" asp-action="Index">
            <i class="fi fi-rs-address-book"></i>
            <span class="nav-link-text">Contacts Book</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/template") ? "active" : "")" asp-controller="UserTemplate" asp-action="Index">
            <i class="fi fi-rs-template-alt"></i>
            <span class="nav-link-text">My Templates</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/bulk-message") ? "active" : "")" asp-controller="UserMessage" asp-action="BulkSend">
            <i class="fi fi-rs-rocket-lunch"></i>
            <span class="nav-link-text">Send Bulk Message</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/schedule-message") ? "active" : "")" asp-controller="UserSchedule" asp-action="Index">
            <i class="ni ni-calendar-grid-58"></i>
            <span class="nav-link-text">Scheduled Message</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/logs") ? "active" : "")" asp-controller="UserLogs" asp-action="Index">
            <i class="ni ni-ui-04"></i>
            <span class="nav-link-text">Message Log</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/webhooks") ? "active" : "")" asp-controller="UserWebhooks" asp-action="Index">
            <i class="fi fi-rs-chart-connected"></i>
            <span class="nav-link-text">Webhook Logs</span>
        </a>
    </li>
</ul>

<!-- Divider -->
<hr class="my-3 mt-6">
<!-- Heading -->
<h6 class="navbar-heading p-0 text-muted">Settings</h6>

<ul class="navbar-nav mb-md-3">
    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/subscription") ? "active" : "")" asp-controller="Subscription" asp-action="Index">
            <i class="ni ni-spaceship"></i>
            <span class="nav-link-text">Subscription</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/user/support") ? "active" : "")" asp-controller="UserSupport" asp-action="Index">
            <i class="fas fa-headset"></i>
            <span class="nav-link-text">Help & Support</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link" asp-controller="UserProfile" asp-action="Index">
            <i class="ni ni-settings-gear-65"></i>
            <span class="nav-link-text">Profile Settings</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link @(currentPath.StartsWithSegments("/userprofile/authkey") ? "active" : "")" asp-controller="UserProfile" asp-action="authkey">
            <i class="ni ni-key-25"></i>
            <span class="nav-link-text">Auth Key</span>
        </a>
    </li>

    <li class="nav-item">
        <a class="nav-link logout-button" href="#" onclick="document.getElementById('logout-form').submit();">
            <i class="ni ni-button-power"></i>
            <span class="nav-link-text">Logout</span>
        </a>
    </li>
</ul>

<form id="logout-form" method="post" asp-controller="Account" asp-action="Logout">
    @Html.AntiForgeryToken()
</form>